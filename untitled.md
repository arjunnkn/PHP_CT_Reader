# Untitled



 [Skip to content](https://github.com/AGWA/git-crypt#start-of-content)   ![](https://github.githubassets.com/images/search-key-slash.svg) [Pull requests](https://github.com/pulls) [Issues](https://github.com/issues) [Marketplace](https://github.com/marketplace) [Explore](https://github.com/explore)[ ](https://github.com/notifications) ![@arjunnkn](https://avatars1.githubusercontent.com/u/14961110?s=60&v=4)

##  

##  [AGWA](https://github.com/AGWA) / [**git-crypt**](https://github.com/AGWA/git-crypt)

* 
 [94](https://github.com/AGWA/git-crypt/watchers)



 [4.7k](https://github.com/AGWA/git-crypt/stargazers)



*  [296](https://github.com/AGWA/git-crypt/network/members)
* 
 [Code](https://github.com/AGWA/git-crypt)



 [Issues 82](https://github.com/AGWA/git-crypt/issues)



 [Pull requests 19](https://github.com/AGWA/git-crypt/pulls)



 [Actions](https://github.com/AGWA/git-crypt/actions)



 [Projects 0](https://github.com/AGWA/git-crypt/projects)



 [Wiki](https://github.com/AGWA/git-crypt/wiki)



 [Security 0](https://github.com/AGWA/git-crypt/security)



*  [Insights](https://github.com/AGWA/git-crypt/pulse)

 Transparent file encryption in git [https://www.agwa.name/projects/git-cr…](https://www.agwa.name/projects/git-crypt/)

* 
 [189 commits](https://github.com/AGWA/git-crypt/commits/master)



 [3 branches](https://github.com/AGWA/git-crypt/branches)



 [0 packages](https://github.com/AGWA/git-crypt/packages)



 [13 releases](https://github.com/AGWA/git-crypt/releases)



 [15 contributors](https://github.com/AGWA/git-crypt/graphs/contributors)



*  [GPL-3.0](https://github.com/AGWA/git-crypt/blob/master/COPYING)

### Latest commit

 [![@AGWA](https://avatars1.githubusercontent.com/u/321605?s=60&u=aa3da3f652578f78de9a60d7b07d9cd875e34ec3&v=4)](https://github.com/AGWA) [AGWA](https://github.com/AGWA/git-crypt/commits?author=AGWA) [Don't interpret a literal "-" as an option argument on command line](https://github.com/AGWA/git-crypt/commit/7c129cdd3830a55a8611eecf82af08cd3301f7f2) Latest commit [7c129cd](https://github.com/AGWA/git-crypt/commit/7c129cdd3830a55a8611eecf82af08cd3301f7f2)14 days ago

### Files <a id="files"></a>

| Type | Name | Latest commit message | Commit time |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [doc](https://github.com/AGWA/git-crypt/tree/master/doc) |  [Add documentation for multiple keys](https://github.com/AGWA/git-crypt/commit/bd262f61265cfb80cb3d847bcdb115eea8a6e74d) | 6 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [man](https://github.com/AGWA/git-crypt/tree/master/man) |  [Prepare 0.6.0 release](https://github.com/AGWA/git-crypt/commit/546664f152ec0441dd46700eb06e63a0414ec877) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [.gitattributes](https://github.com/AGWA/git-crypt/blob/master/.gitattributes) |  [Add .gitattributes file to ignore .git files when creating archive](https://github.com/AGWA/git-crypt/commit/3d53bce1a8262cf5b129d3a0ff6c671d949b5282) | 6 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [.gitignore](https://github.com/AGWA/git-crypt/blob/master/.gitignore) |  [Initial version](https://github.com/AGWA/git-crypt/commit/6e3dd5a8d312a6f5e7e4e70cdac77a1ffd6113da) | 8 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [AUTHORS](https://github.com/AGWA/git-crypt/blob/master/AUTHORS) |  [Add AUTHORS file](https://github.com/AGWA/git-crypt/commit/fb2e08d7c23c6f780da68573a8b4a1d6f9629d1d) | 7 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [CONTRIBUTING.md](https://github.com/AGWA/git-crypt/blob/master/CONTRIBUTING.md) |  [Add CONTRIBUTING and THANKS files](https://github.com/AGWA/git-crypt/commit/9c190a5a89903529ca9ac1548ae2e8a3764bb1d0) | 6 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [COPYING](https://github.com/AGWA/git-crypt/blob/master/COPYING) |  [Add README and copyright notices](https://github.com/AGWA/git-crypt/commit/a2e3d160bd5e48cba9dbc7241cd7e98f960456d7) | 8 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [INSTALL](https://github.com/AGWA/git-crypt/blob/master/INSTALL) |  [Update INSTALL file to reflect C++11 requirement](https://github.com/AGWA/git-crypt/commit/37df6fb5ad2a258858061d776eeca28e9f922fd2) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [INSTALL.md](https://github.com/AGWA/git-crypt/blob/master/INSTALL.md) |  [Update INSTALL file to reflect C++11 requirement](https://github.com/AGWA/git-crypt/commit/37df6fb5ad2a258858061d776eeca28e9f922fd2) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [Makefile](https://github.com/AGWA/git-crypt/blob/master/Makefile) |  [Enable C++11 in Makefile](https://github.com/AGWA/git-crypt/commit/2b1076108e60b36adc9610704b9f4eeabeb9a872) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [NEWS](https://github.com/AGWA/git-crypt/blob/master/NEWS) |  [Prepare 0.6.0 release](https://github.com/AGWA/git-crypt/commit/546664f152ec0441dd46700eb06e63a0414ec877) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [NEWS.md](https://github.com/AGWA/git-crypt/blob/master/NEWS.md) |  [Prepare 0.6.0 release](https://github.com/AGWA/git-crypt/commit/546664f152ec0441dd46700eb06e63a0414ec877) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [README](https://github.com/AGWA/git-crypt/blob/master/README) |  [Improve clarity in README](https://github.com/AGWA/git-crypt/commit/88705f996c251f67af28e4e498a06456d87d741b) | 4 months ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [README.md](https://github.com/AGWA/git-crypt/blob/master/README.md) |  [Improve clarity in README](https://github.com/AGWA/git-crypt/commit/88705f996c251f67af28e4e498a06456d87d741b) | 4 months ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [RELEASE\_NOTES-0.4.1.md](https://github.com/AGWA/git-crypt/blob/master/RELEASE_NOTES-0.4.1.md) |  [Update for git-crypt 0.4.1](https://github.com/AGWA/git-crypt/commit/849401d7336bccfc448b9529c06428ce7643f81d) | 5 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [RELEASE\_NOTES-0.4.md](https://github.com/AGWA/git-crypt/blob/master/RELEASE_NOTES-0.4.md) |  [Update README, NEWS, write release notes for 0.4](https://github.com/AGWA/git-crypt/commit/2b0cc1b5acc5241591d99ba10b05270577b76bcf) | 6 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [THANKS.md](https://github.com/AGWA/git-crypt/blob/master/THANKS.md) |  [Update THANKS file](https://github.com/AGWA/git-crypt/commit/f3dd69e4c76c9315a337294b41bdb4c22084bbe8) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [commands.cpp](https://github.com/AGWA/git-crypt/blob/master/commands.cpp) |  [Use an enum for git checkout batch size instead of hard-coding constant](https://github.com/AGWA/git-crypt/commit/89bcafa1a6f2643492a2f6c60525fe1a3c0ecc85) | 4 months ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [commands.hpp](https://github.com/AGWA/git-crypt/blob/master/commands.hpp) |  [Read gpg program from git config gpg.program ; ported from fork by al…](https://github.com/AGWA/git-crypt/commit/101b738a8d94779f6f99de5aaf7123789fb17228) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [coprocess-unix.cpp](https://github.com/AGWA/git-crypt/blob/master/coprocess-unix.cpp) |  [Switch from NULL to nullptr](https://github.com/AGWA/git-crypt/commit/ccdcc76f8e1a639847a8accd801f5a284194e43f) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [coprocess-unix.hpp](https://github.com/AGWA/git-crypt/blob/master/coprocess-unix.hpp) |  [Add Coprocess class](https://github.com/AGWA/git-crypt/commit/44f70e6b4889dd7891e8cd799e4b602ad65ca152) | 5 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [coprocess-win32.cpp](https://github.com/AGWA/git-crypt/blob/master/coprocess-win32.cpp) |  [Switch from NULL to nullptr](https://github.com/AGWA/git-crypt/commit/ccdcc76f8e1a639847a8accd801f5a284194e43f) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [coprocess-win32.hpp](https://github.com/AGWA/git-crypt/blob/master/coprocess-win32.hpp) |  [Add Coprocess class](https://github.com/AGWA/git-crypt/commit/44f70e6b4889dd7891e8cd799e4b602ad65ca152) | 5 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [coprocess.cpp](https://github.com/AGWA/git-crypt/blob/master/coprocess.cpp) |  [Add Coprocess class](https://github.com/AGWA/git-crypt/commit/44f70e6b4889dd7891e8cd799e4b602ad65ca152) | 5 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [coprocess.hpp](https://github.com/AGWA/git-crypt/blob/master/coprocess.hpp) |  [Add Coprocess class](https://github.com/AGWA/git-crypt/commit/44f70e6b4889dd7891e8cd799e4b602ad65ca152) | 5 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [crypto-openssl-10.cpp](https://github.com/AGWA/git-crypt/blob/master/crypto-openssl-10.cpp) |  [Addresses -Wdeprecated-declarations warnings](https://github.com/AGWA/git-crypt/commit/d3bb5aba467194c4a08637e8730208177f138780) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [crypto-openssl-11.cpp](https://github.com/AGWA/git-crypt/blob/master/crypto-openssl-11.cpp) |  [Switch from NULL to nullptr](https://github.com/AGWA/git-crypt/commit/ccdcc76f8e1a639847a8accd801f5a284194e43f) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [crypto.cpp](https://github.com/AGWA/git-crypt/blob/master/crypto.cpp) |  [Ensure memsets of sensitive memory aren't optimized away](https://github.com/AGWA/git-crypt/commit/477983f4bc14dae3131bd80282a94e1c67695c0d) | 6 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [crypto.hpp](https://github.com/AGWA/git-crypt/blob/master/crypto.hpp) |  [Addresses -Wdeprecated-declarations warnings](https://github.com/AGWA/git-crypt/commit/d3bb5aba467194c4a08637e8730208177f138780) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [fhstream.cpp](https://github.com/AGWA/git-crypt/blob/master/fhstream.cpp) |  [Add Coprocess class](https://github.com/AGWA/git-crypt/commit/44f70e6b4889dd7891e8cd799e4b602ad65ca152) | 5 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [fhstream.hpp](https://github.com/AGWA/git-crypt/blob/master/fhstream.hpp) |  [Add Coprocess class](https://github.com/AGWA/git-crypt/commit/44f70e6b4889dd7891e8cd799e4b602ad65ca152) | 5 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [git-crypt.cpp](https://github.com/AGWA/git-crypt/blob/master/git-crypt.cpp) |  [Add 'git-crypt version' command](https://github.com/AGWA/git-crypt/commit/12881f65fd046f06f7535e2e44d828311232e374) | 5 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [git-crypt.hpp](https://github.com/AGWA/git-crypt/blob/master/git-crypt.hpp) |  [Prepare 0.6.0 release](https://github.com/AGWA/git-crypt/commit/546664f152ec0441dd46700eb06e63a0414ec877) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [gpg.cpp](https://github.com/AGWA/git-crypt/blob/master/gpg.cpp) |  [Read gpg program from git config gpg.program ; ported from fork by al…](https://github.com/AGWA/git-crypt/commit/101b738a8d94779f6f99de5aaf7123789fb17228) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [gpg.hpp](https://github.com/AGWA/git-crypt/blob/master/gpg.hpp) |  [Add --trusted option to gpg-add-user](https://github.com/AGWA/git-crypt/commit/3104508adf1ffd7a8565bd5e7e06dda546ee10a9) | 5 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [key.cpp](https://github.com/AGWA/git-crypt/blob/master/key.cpp) |  [Raise an error if legacy key file has trailing data](https://github.com/AGWA/git-crypt/commit/10622f6dcc5d25a2e3e9b26a5113e7a165a2ff14) | 6 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [key.hpp](https://github.com/AGWA/git-crypt/blob/master/key.hpp) |  [Avoid unsafe integer signedness conversions when loading key file](https://github.com/AGWA/git-crypt/commit/4af0a0cfc1a46582fecf4ff2ce746408213cec58) | 6 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [parse\_options.cpp](https://github.com/AGWA/git-crypt/blob/master/parse_options.cpp) |  [Don't interpret a literal "-" as an option argument on command line](https://github.com/AGWA/git-crypt/commit/7c129cdd3830a55a8611eecf82af08cd3301f7f2) | 14 days ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [parse\_options.hpp](https://github.com/AGWA/git-crypt/blob/master/parse_options.hpp) |  [Re-license parse\_options under X11 license](https://github.com/AGWA/git-crypt/commit/3db6271492ba705b8969a9dea8ede9aab2931ae9) | 5 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [util-unix.cpp](https://github.com/AGWA/git-crypt/blob/master/util-unix.cpp) |  [Switch from NULL to nullptr](https://github.com/AGWA/git-crypt/commit/ccdcc76f8e1a639847a8accd801f5a284194e43f) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [util-win32.cpp](https://github.com/AGWA/git-crypt/blob/master/util-win32.cpp) |  [Switch from NULL to nullptr](https://github.com/AGWA/git-crypt/commit/ccdcc76f8e1a639847a8accd801f5a284194e43f) | 3 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [util.cpp](https://github.com/AGWA/git-crypt/blob/master/util.cpp) |  [Add Coprocess class](https://github.com/AGWA/git-crypt/commit/44f70e6b4889dd7891e8cd799e4b602ad65ca152) | 5 years ago |
| :--- | :--- | :--- | :--- |
|  |  |  |  |

|  |  [util.hpp](https://github.com/AGWA/git-crypt/blob/master/util.hpp) |  [touch\_file, remove\_file: ignore non-existent files](https://github.com/AGWA/git-crypt/commit/85635ae0b1b90a25c062eaf14f77550cfe4d3eb5) | 5 years ago |
| :--- | :--- | :--- | :--- |


### 

###  README.md

## 

## git-crypt - transparent file encryption in git

git-crypt enables transparent encryption and decryption of files in a git repository. Files which you choose to protect are encrypted when committed, and decrypted when checked out. git-crypt lets you freely share a repository containing a mix of public and private content. git-crypt gracefully degrades, so developers without the secret key can still clone and commit to a repository with encrypted files. This lets you store your secret material \(such as keys or passwords\) in the same repository as your code, without requiring you to lock down your entire repository.

git-crypt was written by [Andrew Ayer](https://www.agwa.name) \([agwa@andrewayer.name](mailto:agwa@andrewayer.name)\). For more information, see [https://www.agwa.name/projects/git-crypt](https://www.agwa.name/projects/git-crypt).

### 

### Building git-crypt

See the [INSTALL.md](https://github.com/AGWA/git-crypt/blob/master/INSTALL.md) file.

### 

### Using git-crypt

Configure a repository to use git-crypt:

```text
cd repo
git-crypt init
```

Specify files to encrypt by creating a .gitattributes file:

```text
secretfile filter=git-crypt diff=git-crypt
*.key filter=git-crypt diff=git-crypt
secretdir/** filter=git-crypt diff=git-crypt
```

Like a .gitignore file, it can match wildcards and should be checked into the repository. See below for more information about .gitattributes. Make sure you don't accidentally encrypt the .gitattributes file itself \(or other git files like .gitignore or .gitmodules\). Make sure your .gitattributes rules are in place _before_ you add sensitive files, or those files won't be encrypted!

Share the repository with others \(or with yourself\) using GPG:

```text
git-crypt add-gpg-user USER_ID
```

`USER_ID` can be a key ID, a full fingerprint, an email address, or anything else that uniquely identifies a public key to GPG \(see "HOW TO SPECIFY A USER ID" in the gpg man page\). Note: `git-crypt add-gpg-user` will add and commit a GPG-encrypted key file in the .git-crypt directory of the root of your repository.

Alternatively, you can export a symmetric secret key, which you must securely convey to collaborators \(GPG is not required, and no files are added to your repository\):

```text
git-crypt export-key /path/to/key
```

After cloning a repository with encrypted files, unlock with GPG:

```text
git-crypt unlock
```

Or with a symmetric key:

```text
git-crypt unlock /path/to/key
```

That's all you need to do - after git-crypt is set up \(either with `git-crypt init` or `git-crypt unlock`\), you can use git normally - encryption and decryption happen transparently.

### 

### Current Status

The latest version of git-crypt is [0.6.0](https://github.com/AGWA/git-crypt/blob/master/NEWS.md), released on 2017-11-26. git-crypt aims to be bug-free and reliable, meaning it shouldn't crash, malfunction, or expose your confidential data. However, it has not yet reached maturity, meaning it is not as documented, featureful, or easy-to-use as it should be. Additionally, there may be backwards-incompatible changes introduced before version 1.0.

### 

### Security

git-crypt is more secure than other transparent git encryption systems. git-crypt encrypts files using AES-256 in CTR mode with a synthetic IV derived from the SHA-1 HMAC of the file. This mode of operation is provably semantically secure under deterministic chosen-plaintext attack. That means that although the encryption is deterministic \(which is required so git can distinguish when a file has and hasn't changed\), it leaks no information beyond whether two files are identical or not. Other proposals for transparent git encryption use ECB or CBC with a fixed IV. These systems are not semantically secure and leak information.

### 

### Limitations

git-crypt relies on git filters, which were not designed with encryption in mind. As such, git-crypt is not the best tool for encrypting most or all of the files in a repository. Where git-crypt really shines is where most of your repository is public, but you have a few files \(perhaps private keys named \*.key, or a file with API credentials\) which you need to encrypt. For encrypting an entire repository, consider using a system like [git-remote-gcrypt](https://spwhitton.name/tech/code/git-remote-gcrypt/) instead. \(Note: no endorsement is made of git-remote-gcrypt's security.\)

git-crypt does not encrypt file names, commit messages, symlink targets, gitlinks, or other metadata.

git-crypt does not hide when a file does or doesn't change, the length of a file, or the fact that two files are identical \(see "Security" section above\).

git-crypt does not support revoking access to an encrypted repository which was previously granted. This applies to both multi-user GPG mode \(there's no del-gpg-user command to complement add-gpg-user\) and also symmetric key mode \(there's no support for rotating the key\). This is because it is an inherently complex problem in the context of historical data. For example, even if a key was rotated at one point in history, a user having the previous key can still access previous repository history. This problem is discussed in more detail in [https://github.com/AGWA/git-crypt/issues/47](https://github.com/AGWA/git-crypt/issues/47).

Files encrypted with git-crypt are not compressible. Even the smallest change to an encrypted file requires git to store the entire changed file, instead of just a delta.

Although git-crypt protects individual file contents with a SHA-1 HMAC, git-crypt cannot be used securely unless the entire repository is protected against tampering \(an attacker who can mutate your repository can alter your .gitattributes file to disable encryption\). If necessary, use git features such as signed tags instead of relying solely on git-crypt for integrity.

Files encrypted with git-crypt cannot be patched with git-apply, unless the patch itself is encrypted. To generate an encrypted patch, use `git diff --no-textconv --binary`. Alternatively, you can apply a plaintext patch outside of git using the patch command.

git-crypt does not work reliably with some third-party git GUIs, such as [Atlassian SourceTree](https://jira.atlassian.com/browse/SRCTREE-2511) and GitHub for Mac. Files might be left in an unencrypted state.

### 

### Gitattributes File

The .gitattributes file is documented in the gitattributes\(5\) man page. The file pattern format is the same as the one used by .gitignore, as documented in the gitignore\(5\) man page, with the exception that specifying merely a directory \(e.g. `/dir/`\) is _not_ sufficient to encrypt all files beneath it.

Also note that the pattern `dir/*` does not match files under sub-directories of dir/. To encrypt an entire sub-tree dir/, use `dir/**`:

```text
dir/** filter=git-crypt diff=git-crypt
```

The .gitattributes file must not be encrypted, so make sure wildcards don't match it accidentally. If necessary, you can exclude .gitattributes from encryption like this:

```text
.gitattributes !filter !diff
```

### 

### Mailing Lists

To stay abreast of, and provide input to, git-crypt development, consider subscribing to one or both of our mailing lists:

* *  **README.md**



  **git-crypt - transparent file encryption in git**

  git-crypt enables transparent encryption and decryption of files in a git repository. Files which you choose to protect are encrypted when committed, and decrypted when checked out. git-crypt lets you freely share a repository containing a mix of public and private content. git-crypt gracefully degrades, so developers without the secret key can still clone and commit to a repository with encrypted files. This lets you store your secret material \(such as keys or passwords\) in the same repository as your code, without requiring you to lock down your entire repository.

  git-crypt was written by [Andrew Ayer](https://www.agwa.name) \([agwa@andrewayer.name](mailto:agwa@andrewayer.name)\). For more information, see [https://www.agwa.name/projects/git-crypt](https://www.agwa.name/projects/git-crypt).



  **Building git-crypt**

  See the [INSTALL.md](https://github.com/AGWA/git-crypt/blob/master/INSTALL.md) file.



  **Using git-crypt**

  Configure a repository to use git-crypt:

  ```text
  cd repo
  git-crypt init
  ```

  Specify files to encrypt by creating a .gitattributes file:

  ```text
  secretfile filter=git-crypt diff=git-crypt
  *.key filter=git-crypt diff=git-crypt
  secretdir/** filter=git-crypt diff=git-crypt
  ```

  Like a .gitignore file, it can match wildcards and should be checked into the repository. See below for more information about .gitattributes. Make sure you don't accidentally encrypt the .gitattributes file itself \(or other git files like .gitignore or .gitmodules\). Make sure your .gitattributes rules are in place _before_ you add sensitive files, or those files won't be encrypted!

  Share the repository with others \(or with yourself\) using GPG:

  ```text
  git-crypt add-gpg-user USER_ID
  ```

  `USER_ID` can be a key ID, a full fingerprint, an email address, or anything else that uniquely identifies a public key to GPG \(see "HOW TO SPECIFY A USER ID" in the gpg man page\). Note: `git-crypt add-gpg-user` will add and commit a GPG-encrypted key file in the .git-crypt directory of the root of your repository.

  Alternatively, you can export a symmetric secret key, which you must securely convey to collaborators \(GPG is not required, and no files are added to your repository\):

  ```text
  git-crypt export-key /path/to/key
  ```

  After cloning a repository with encrypted files, unlock with GPG:

  ```text
  git-crypt unlock
  ```

  Or with a symmetric key:

  ```text
  git-crypt unlock /path/to/key
  ```

  That's all you need to do - after git-crypt is set up \(either with `git-crypt init` or `git-crypt unlock`\), you can use git normally - encryption and decryption happen transparently.



  **Current Status**

  The latest version of git-crypt is [0.6.0](https://github.com/AGWA/git-crypt/blob/master/NEWS.md), released on 2017-11-26. git-crypt aims to be bug-free and reliable, meaning it shouldn't crash, malfunction, or expose your confidential data. However, it has not yet reached maturity, meaning it is not as documented, featureful, or easy-to-use as it should be. Additionally, there may be backwards-incompatible changes introduced before version 1.0.



  **Security**

  git-crypt is more secure than other transparent git encryption systems. git-crypt encrypts files using AES-256 in CTR mode with a synthetic IV derived from the SHA-1 HMAC of the file. This mode of operation is provably semantically secure under deterministic chosen-plaintext attack. That means that although the encryption is deterministic \(which is required so git can distinguish when a file has and hasn't changed\), it leaks no information beyond whether two files are identical or not. Other proposals for transparent git encryption use ECB or CBC with a fixed IV. These systems are not semantically secure and leak information.



  **Limitations**

  git-crypt relies on git filters, which were not designed with encryption in mind. As such, git-crypt is not the best tool for encrypting most or all of the files in a repository. Where git-crypt really shines is where most of your repository is public, but you have a few files \(perhaps private keys named \*.key, or a file with API credentials\) which you need to encrypt. For encrypting an entire repository, consider using a system like [git-remote-gcrypt](https://spwhitton.name/tech/code/git-remote-gcrypt/) instead. \(Note: no endorsement is made of git-remote-gcrypt's security.\)

  git-crypt does not encrypt file names, commit messages, symlink targets, gitlinks, or other metadata.

  git-crypt does not hide when a file does or doesn't change, the length of a file, or the fact that two files are identical \(see "Security" section above\).

  git-crypt does not support revoking access to an encrypted repository which was previously granted. This applies to both multi-user GPG mode \(there's no del-gpg-user command to complement add-gpg-user\) and also symmetric key mode \(there's no support for rotating the key\). This is because it is an inherently complex problem in the context of historical data. For example, even if a key was rotated at one point in history, a user having the previous key can still access previous repository history. This problem is discussed in more detail in [https://github.com/AGWA/git-crypt/issues/47](https://github.com/AGWA/git-crypt/issues/47).

  Files encrypted with git-crypt are not compressible. Even the smallest change to an encrypted file requires git to store the entire changed file, instead of just a delta.

  Although git-crypt protects individual file contents with a SHA-1 HMAC, git-crypt cannot be used securely unless the entire repository is protected against tampering \(an attacker who can mutate your repository can alter your .gitattributes file to disable encryption\). If necessary, use git features such as signed tags instead of relying solely on git-crypt for integrity.

  Files encrypted with git-crypt cannot be patched with git-apply, unless the patch itself is encrypted. To generate an encrypted patch, use `git diff --no-textconv --binary`. Alternatively, you can apply a plaintext patch outside of git using the patch command.

  git-crypt does not work reliably with some third-party git GUIs, such as [Atlassian SourceTree](https://jira.atlassian.com/browse/SRCTREE-2511) and GitHub for Mac. Files might be left in an unencrypted state.



  **Gitattributes File**

  The .gitattributes file is documented in the gitattributes\(5\) man page. The file pattern format is the same as the one used by .gitignore, as documented in the gitignore\(5\) man page, with the exception that specifying merely a directory \(e.g. `/dir/`\) is _not_ sufficient to encrypt all files beneath it.

  Also note that the pattern `dir/*` does not match files under sub-directories of dir/. To encrypt an entire sub-tree dir/, use `dir/**`:

  ```text
  dir/** filter=git-crypt diff=git-crypt
  ```

  The .gitattributes file must not be encrypted, so make sure wildcards don't match it accidentally. If necessary, you can exclude .gitattributes from encryption like this:

  ```text
  .gitattributes !filter !diff
  ```



  **Mailing Lists**

  To stay abreast of, and provide input to, git-crypt development, consider subscribing to one or both of our mailing lists:

  * [Announcements](https://lists.cloudmutt.com/mailman/listinfo/git-crypt-announce)
  * [Discussion](https://lists.cloudmutt.com/mailman/listinfo/git-crypt-discuss)
  * © 2020 GitHub, Inc.
  * [Terms](https://github.com/site/terms)
  * [Privacy](https://github.com/site/privacy)
  * [Security](https://github.com/security)
  * [Status](https://githubstatus.com/)
  * [Help](https://help.github.com)
  * [Contact GitHub](https://github.com/contact)
  * [Pricing](https://github.com/pricing)
  * [API](https://developer.github.com)
  * [Training](https://training.github.com)
  * [Blog](https://github.blog)
  * [About](https://github.com/about)

